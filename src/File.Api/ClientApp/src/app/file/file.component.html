<div class="flex h-screen">
    <header class="bg-slate-200 p-5 w-[250px]">
        <h1 class="text-3xl">File Manager</h1>
        <nav>
            <ul>
                <li class="pb-5">
                    <button
                        class="hover:bg-slate-100 text-black text-3xl font-bold py-2 px-4 w-full text-left"
                        (click)="handleClickCreateFolder()"
                    >
                        Create
                    </button>
                    <input
                        #fileInput
                        type="text"
                        (keyup)="getValue(fileInput.value)"
                        class="w-auto"
                    />
                </li>
                <li *ngFor="let m of menu" class="pb-5">
                    <button
                        class="hover:bg-slate-100 text-black text-3xl font-bold py-2 px-4 w-full text-left"
                    >
                        {{ m.name }}
                    </button>
                </li>
            </ul>
        </nav>
    </header>
    <main class="flex flex-col align-middle p-2">
        <div>
            <button (click)="handleClickRefresh()" class="flex">
                <img
                    class="{{ this.snip ? 'animate-spin' : '' }}"
                    src="../../assets/Imagen/refresh.svg"
                    alt=""
                />
                <p>
                    {{ this.snip ? "Refreshing..." : "Refresh" }}
                </p>
            </button>
        </div>
        <div>
            <p class="text-4xl font-semibold pb-5">Folders</p>
            <div class="grid grid-rows-2 grid-cols-5 gap-3 max-w-8xl">
                <section
                    *ngFor="let directory of AllFiles.data.directories"
                    class="gap-1 flex align-middle p-2 border shadow-md hover:bg-blue-100"
                >
                    <img src="../../assets/Imagen/folder.svg" alt="directory" />
                    <div>
                        <p
                            role="none"
                            class="cursor-pointer text-3xl font-bold w-full self-center"
                            (click)="handleClickFileNext(directory.name)"
                        >
                            {{ directory.name }}
                        </p>
                        <p>{{ dateFormater(directory.createDate) }}</p>
                    </div>
                </section>
                <div class="gap-1 flex align-middle p-2 border shadow-md">
                    <img src="../../assets/Imagen/folder.svg" alt="folder" />
                    <p
                        role="none"
                        class="cursor-pointer text-3xl font-bold w-full self-center"
                        (click)="handleClickFilePrev()"
                    >
                        ...
                    </p>
                </div>
            </div>
            <div class="pt-2">
                <p class="text-4xl font-semibold pb-5">Files</p>
                <div class="grid grid-rows-2 grid-cols-4 gap-3">
                    <section
                        *ngFor="let file of AllFiles.data.files"
                        class="flex gap-1 align-middle p-2 border rounded-xl border-black shadow-md hover:bg-blue-100"
                    >
                        <img [src]="getIconPath(file)" alt="" />
                        <p
                            class="cursor-pointer text-3xl font-bold w-full self-center"
                        >
                            {{ reduceTextSize(file) }}
                        </p>
                    </section>
                </div>
            </div>
        </div>
    </main>
</div>
